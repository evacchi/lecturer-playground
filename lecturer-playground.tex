% This is a demonstration file distributed with the
% Lecturer package (see lecturer-doc.pdf).
%
% You can recompile the file with a basic TeX implementation,
% using pdfTeX or LuaTeX with the plain format.
%
% The reusable part ends somewhere around line 300.
%
% Author: Paul Isambert.
% Date: July 2010.

\documentclass{article}

\usepackage{luatex85}
\usepackage{luaotfload}
\RequirePackage{shellesc}
\usepackage{minted}
\usepackage{lecturer}
\usepackage{fontspec}
\usepackage{graphics}
\usepackage{xcolor}

\newcommand{\updatepalette}[1]{

  \newcommand{\palette}[1]{
   \usevalue #1: ##1
  }
  \newcommand{\setpalettekey}[1]{
    \storevalue\ColorId palette: ##1 
    \newcolor{##1}{rgb}{ 
      \palette{\ColorId} 
    }
  } 

  \setpalettekey{title-slide-background}
  \setpalettekey{title-slide-foreground}
  \setpalettekey{slide-background}
  \setpalettekey{slide-title-foreground}
  \setpalettekey{item-color}
}

% \input luatex85.sty
% \input luaotfload.sty
% \input lecturer
%\setsansfont{Gill Sans MT}

\usemintedstyle{tango}

\setmonofont{Fira Mono}
\setmainfont{Fira Sans}

\font\maintitlefont    = {name: League Gothic} at 100pt
\font\slidetitlefont   = {name: Reklame Script DEMO} at 30pt
% \font\slidetitlefont = {name: Fira Sans} at 20pt
\font\subtitlefont     = {name: Reklame Script DEMO}
\font\mainsubtitlefont = {name: Reklame Script DEMO} at 50pt
\font\titlefont        = {name: Fira Sans}
\font\tenrm={name: Fira Sans} at 10pt


\setparameter fresh-cut-day:
  tropiteal     = ".0  .66 .78"
  whitetrash    = ".97 .94 .90"
  atomic-bikini = ".68 .89 .22"


\setparameter palette:
  title-slide-background = tropiteal
  title-slide-foreground = whitetrash
  slide-background       = whitetrash
  slide-title-foreground = atomic-bikini
  item-color             = tropiteal

\updatepalette{fresh-cut-day}



\def\Subtitle{A Shapeless Primer}


\setparameter job:
  mode           = presentation % The handout is ready, just turn it on.
  author         = "A Shapeless Primer"
  title          = "BE LIKE WATER"
  date           = "Some centuries B.C."
  fullscreen     = true
  autofullscreen = true
  font           = \tenrm % Plain TeX's default, but must be specified
                          % to set it back after a \step with another font.

\setparameter slide:
  everyslide    = \everyslide
  % hsize         = ".6\pdfpagewidth"
  top           = 76pt
  bottom        = 42pt
  areas*        = "title subtitle date"
  bookmarkstyle = italic
  baselineskip  = 12pt
  topskip       = \baselineskip
  width         = 16cm
  height        = 9cm
  background    = slide-background
  % left          = 1cm % default 2cm
  % right         = 1cm

\def\everyslide{%
  \position{titlebar}\slidetitle
  }
% \def\dobutton#1#2{%
%   #1[push]{\rlap#2\buttonborder}\hskip1em
%    }

%
% Top and bottom bars.
%

\setarea{topleft topright bottomleft bottommiddle bottomright}
  height = 18pt



\setarea{titlebar}
  vshift     = 35pt
  left       = 3em
  height     = 40pt
  % background = lightgrey
  foreground = slide-title-foreground
  topskip    = 30pt
  hpos       = fr
  font       = \slidetitlefont


%
% The title slide.
%
\setslide{titleslide}
  areas      = "title subtitle"
  bookmark   = false
  hpos       = rr
  everyslide = {}
  background = title-slide-background

\setarea{title}
  hshift*    = 1cm
  vshift     = 2.5cm
  height     = 45pt
  topskip    = 50pt
  foreground = title-slide-foreground
  top        = 1em
  %frame      = "width=.2em, corner=round, color=darkgrey"
  hpos       = rr
  font       = \maintitlefont

\setarea{subtitle}
  hshift*    = 1cm
  vshift     = 6cm
  height     = 28pt
  topskip    = 20pt
  foreground = title-slide-foreground
  frame      = "width=.2em, corner=round"
  hpos       = rr
  font       = \mainsubtitlefont

\setarea{date}
  hshift*    = 5.5cm
  vshift     = 9cm
  height     = 22pt
  topskip    = 10pt
  background = white
  foreground = black
  top        = 5pt
  frame      = "width=.5em, corner=bevel, color=lightgrey"
  hpos       = rr


%
% For the appendices.
% We remove the math area instead
% of redefining \everyslide.
%
\setslide{appslide}
  areas* = "math title author date"

%
% Default step.
%
\setparameter step:
  everyvstep = "\quitvmode\llap{\itemsymbol\kern.5em}"
  vskip = 18pt

%
% Foreground math.
%
\setstep\emptystep
  everyvstep everyhstep = {}
  vskip hskip = 0pt

%
% Item symbols.
%
\newsymbol\itemsymbol[.6em,padding=0pt]
  {color item-color, + 1 0, + 0 1, + -1 0, fill,}
\newsymbol\mathsym[.5em,padding=0pt]
  {color item-color,
  + 1 .5, + -1 .5, fill,}
\newsymbol\backsym[.5em,padding=0pt]
  {color item-color, move 1 0, + -1 .5, + 1 .5, fill,}

%
% And some structure.
%
\def\section#1{%
  \def\sectiontitle{#1}%
  \createbookmark[nosubmenutext,open]{.5}{#1}%
  }


% \endinput
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                             %
% UNCOMMENT THE PREVIOUS LINE TO USE THIS FILE AS A TEMPLATE, %
% OR REMOVE EVERYTHING BELOW.                                 %
%                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{document}
\titleslide

\position{title}\Title
%\position{author}[0cm,-1.7cm]{\it\usecolor{black}{A Casual Talk By}}
\position{subtitle}\Subtitle
\position{date}\Date

\endtitleslide





\section{Demonstration}

\begin{slide}[Some source code]
  \inputminted[fontsize=\small]{kotlin}{source/fizzbuzz.kt}
\end{slide}

\slide[A simple assumption]

\step Some say the square root of 2 isn't rational.
\step Suppose
 were.

\step[A] Then we could write it as this, where $a$ and $b$ are
integers without a common factor.

\step[B] But then we can also write this.
\step[C] And this.
\step[D] And finally this.
\step Which means that $a^2$ is even.

\endslide



\slide[Its consequences]


\step[visible="true"] So what?
\step So $a$ is even. Because only even numbers produce even squares.

\step[A] Being even means being expressible in the form $2k$, where $k$ is
any integer.
\step[B] And $(2k)^2$ square gives $4k^2$.

\step[C] Let's simplify.
\step Thus $b^2$ is even.
\step And $b$ is too.

\endslide



\slide[The problem]

% \domath7 A {}

\step[visible=true] And but so we said $a$ and $b$ have no common factor.

\step If both are even they do have a common factor: 2.
\step Which is absurd.

\step Thus, our basic assumption is false.
\step[A] There are no such $a$ and $b$.

\step The square root of 2 is irrational.
\step Too bad.

\endslide





\end{document}
